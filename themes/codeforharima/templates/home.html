{% extends "base.html" %}
{% block title %}{{ page.title }}{% endblock %}

{% block content %}
    <!-- カルーセル -->
    {% block contents %}
    <div id="heroCarousel" class="carousel slide" data-bs-ride="carousel">
      <div class="carousel-indicators">
        <button type="button" data-bs-target="#heroCarousel" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
        <button type="button" data-bs-target="#heroCarousel" data-bs-slide-to="1" aria-label="Slide 2"></button>
        <button type="button" data-bs-target="#heroCarousel" data-bs-slide-to="2" aria-label="Slide 3"></button>
      </div>
      <div class="carousel-inner">
        <div class="carousel-item active">
          <img src="{{ SITEURL }}/theme/img/street.jpg" class="d-block w-100" alt="...">
          <div class="carousel-caption d-none d-md-block">
            <h2 class="fw-bold">地域課題に挑む</h2>
            <p>シビックテックで未来を変える</p>
          </div>
        </div>
        <div class="carousel-item">
          <img src="{{ SITEURL }}/theme/img/street.jpg" class="d-block w-100" alt="...">
          <div class="carousel-caption d-none d-md-block">
            <h2 class="fw-bold">つながる地域</h2>
            <p>テクノロジーで地域を元気に</p>
          </div>
        </div>
        <div class="carousel-item">
          <img src="{{ SITEURL }}/theme/img/street.jpg" class="d-block w-100" alt="...">
          <div class="carousel-caption d-none d-md-block">
            <h2 class="fw-bold">未来を創る</h2>
            <p>あなたの参加で地域が変わる</p>
          </div>
        </div>
      </div>
      <button class="carousel-control-prev" type="button" data-bs-target="#heroCarousel" data-bs-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Previous</span>
      </button>
      <button class="carousel-control-next" type="button" data-bs-target="#heroCarousel" data-bs-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Next</span>
      </button>
    </div>
    {% endblock  %}

    <!-- イントロ -->
    {% block intro %}
    <section class="intro py-5">
      <div class="container">
        <div class="row justify-content-center">
          <div class="col-12 col-xxl-10 mb-4">
            <h2 class="text-center mb-4">私たちの活動</h2>
            <p>Code for Harimaは、播磨地域の困ったことなどをITやテクノロジーと地域の力を合わせて考え、より良く、素敵な場所にしていこうという思いの人が集まったコミュニティです。参加する人達もさまざまで行政から大学、学生、ITエンジニア、それぞれの立場から、どのようなことができるかをゆるく話し合っています。</p>
            <p>Code for Harimaは、2018年7月に設立されました。活動地域は、加古川を中心に高砂、姫路ですが、それ以外の地域からの参加も歓迎します。活動の最新情報についてはFacebookページ、またはFacebookグループをご覧ください。過去の活動については、活動履歴をご覧ください。</p>
          </div>
          <!-- box1 -->
          <div class="col-md-4 mb-4">
            <div class="card h-100">
              <div class="card-body text-center">
                <i class="bi bi-people-fill display-4 text-primary"></i>
                <h5 class="card-title">定例会</h5>
                <p class="card-text">毎月開催する定例会で、地域課題について話し合います</p>
              </div>
            </div>
          </div>
          <!-- box2 -->
          <div class="col-md-4 mb-4">
            <div class="card h-100">
              <div class="card-body text-center">
                <i class="bi bi-calendar-check display-4 text-primary"></i>
                <h5 class="card-title">イベント開催</h5>
                <p class="card-text">地域のイベントに参加し、シビックテックの魅力を伝えます</p>
              </div>
            </div>
          </div>
          <!-- box3 -->
          <div class="col-md-4 mb-4">
            <div class="card h-100">
              <div class="card-body text-center">
                <i class="bi bi-geo-alt-fill display-4 text-primary"></i>
                <h5 class="card-title">地域コミュニティ支援</h5>
                <p class="card-text">地域のコミュニティを支援し、より良い地域社会の実現を目指します</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>
    {% endblock  %}

    <!-- 定例会 -->
    {% block meeting %}
    <section class="meeting py-5 bg-light">
      <div class="container">
        <div class="row justify-content-center">
          <div class="col-12 col-xxl-10">
            <h2 class="text-center mb-4">定例会</h2>
            <p>Code for Harimaは、毎月、第2火曜日19時から加古川ヤマトヤシキ7階「市民交流ひろば」で定例会を開催しています。定例会は、どなたでも参加できます。参加者全員で話し合い、話し合ったことを議事録に記録しています。定例会の議事録は、すべて公開しています。</p>
            <ul class="list-group">
            {# 議事録だけを抜き出し #}
            {% set filtered_pages = [] %}
            {% for page in pages if page.category == 'minutes' -%}
              {{ filtered_pages.append(page) or "" }}
            {%- endfor %}
            {# 抜き出したものから3件表示 #}
            {% for page in filtered_pages | reverse -%}
              {% if loop.index <= 3 -%}
                <li class="list-group-item list-group-item-action">
                  <h5><a href="{{ SITEURL }}/{{ page.url }}" class="stretched-link">{{ page.title }}</a></h5>
                  <p>{{ page.summary | striptags }}</p>
                </li>
              {%- endif %}
            {%- endfor %}
            </ul>
          </div>
        </div>
      </div>
    </section>
    {% endblock  %}

    <!-- 新着記事 -->
    {% block recent %}
    <section class="recent py-5">
      <div class="container">
        <h2 class="text-center mb-4">新着記事</h2>
        <div class="row">
          {% for article in articles[:DEFAULT_PAGINATION] %}
          <div class="col-12 col-md-6 col-lg-4 mb-4">
            <div class="card h-100">
              <div class="position-relative">
              {% if article.cover -%}
                <img src="{{ SITEURL }}/theme/img/noimg.webp" class="card-img-top" alt="">
              {% else %}
                <img src="{{ SITEURL }}/theme/img/noimg.webp" class="card-img-top" alt="">
              {%- endif %}
                <span class="position-absolute top-0 start-0 badge bg-primary">{{ article.category }}</span>
              </div>
              <div class="card-body">
                <h5 class="card-title"><a href="{{ SITEURL }}/{{ article.url }}" class="stretched-link">{{ article.title }}</a></h5>
                <p class="card-text">これは記事の簡単な説明です。これは記事の簡単な説明です。これは記事の簡単な説明です。</p>
              </div>
            </div>
          </div>
          {% endfor %}
      </div>
    </section>
    {% endblock  %}

{% endblock  %}
